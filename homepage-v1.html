<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMART WAREHOUSE - FIXED V10 (MU + SEAMLESS FIT)</title>
    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --bg-dark: #020617;
            --neon-blue: #0ea5e9;
            --neon-cyan: #06b6d4;
            --neon-purple: #8b5cf6;
            --neon-red: #ef4444;
            /* For MU Banner */
            --glass-bg: rgba(15, 17, 42, 0.85);
            /* Slightly more opaque */
            --glass-border: rgba(14, 165, 233, 0.3);
            --text-glow: 0 0 10px rgba(6, 182, 212, 0.5);
            --box-glow: 0 0 15px rgba(14, 165, 233, 0.2);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            scrollbar-width: thin;
        }

        body {
            background-color: var(--bg-dark);
            background-image:
                radial-gradient(circle at 50% 50%, rgba(14, 165, 233, 0.05), transparent 70%),
                linear-gradient(rgba(14, 165, 233, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(14, 165, 233, 0.03) 1px, transparent 1px);
            background-size: 100% 100%, 30px 30px, 30px 30px;
            color: #fff;
            font-family: 'Rajdhani', sans-serif;
            height: 100vh;
            overflow: hidden;
            display: flex;
        }

        /* === SIDEBAR NAVBAR === */
        .sidebar {
            width: 260px;
            height: 100%;
            background: rgba(2, 6, 23, 0.95);
            border-right: 1px solid var(--glass-border);
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(10px);
            z-index: 100;
        }

        .brand {
            padding: 25px 20px;
            position: relative;
            overflow: hidden;
            background: linear-gradient(to bottom, rgba(6, 182, 212, 0.05), transparent);
        }

        .brand h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.3rem;
            color: var(--neon-cyan);
            text-shadow: 0 0 15px rgba(6, 182, 212, 0.4);
            letter-spacing: 3px;
            line-height: 1.1;
            position: relative;
            display: inline-block;
        }

        .brand-glow {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(6, 182, 212, 0.2), transparent);
            transform: translateX(-100%);
            animation: neon-scan 3s infinite;
            pointer-events: none;
        }

        .brand span {
            display: inline-block;
            font-size: 0.65rem;
            color: #000;
            background: var(--neon-cyan);
            padding: 1px 5px;
            border-radius: 3px;
            font-weight: 800;
            margin-left: 5px;
            box-shadow: 0 0 10px var(--neon-cyan);
            animation: flicker-v2 2s infinite;
        }

        .brand-sub {
            font-size: 0.6rem;
            color: #475569;
            margin-top: 8px;
            letter-spacing: 2px;
            font-family: 'Orbitron';
            text-transform: uppercase;
            opacity: 0.6;
            animation: wms-glitch 5s infinite;
        }

        @keyframes neon-scan {
            0% {
                transform: translateX(-100%);
            }

            50% {
                transform: translateX(100%);
            }

            100% {
                transform: translateX(100%);
            }
        }

        @keyframes flicker-v2 {

            0%,
            100% {
                opacity: 1;
                box-shadow: 0 0 10px var(--neon-cyan);
            }

            50% {
                opacity: 0.7;
                box-shadow: none;
            }
        }

        @keyframes wms-glitch {

            0%,
            90%,
            100% {
                transform: none;
                opacity: 0.6;
            }

            92% {
                transform: skewX(10deg);
                opacity: 0.8;
                color: var(--neon-cyan);
            }

            94% {
                transform: skewX(-10deg);
                color: var(--neon-purple);
            }

            96% {
                transform: none;
            }
        }

        @keyframes electric-scan {
            0% {
                transform: translateX(-100%) skewX(-15deg);
            }

            100% {
                transform: translateX(200%) skewX(-15deg);
            }
        }

        .nav-menu {
            overflow-y: auto;
            flex-grow: 1;
            padding: 0 10px;
        }

        .nav-item {
            margin-bottom: 5px;
        }

        .nav-btn {
            width: 100%;
            text-align: left;
            padding: 12px 15px;
            background: transparent;
            border: none;
            color: #94a3b8;
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: 0.3s;
            border-radius: 6px;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 50px;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(6, 182, 212, 0.4), transparent);
            transform: translateX(-100%) skewX(-15deg);
            transition: 0s;
            pointer-events: none;
        }

        .nav-btn:hover::before {
            animation: electric-scan 0.5s ease-out;
        }

        .nav-btn:hover,
        .nav-btn.active {
            color: var(--neon-cyan);
            background: rgba(6, 182, 212, 0.1);
            text-shadow: 0 0 8px rgba(6, 182, 212, 0.6);
            box-shadow: inset 0 0 15px rgba(6, 182, 212, 0.1);
        }

        .nav-btn i.icon {
            width: 20px;
            margin-right: 10px;
            transition: 0.3s;
        }

        .nav-btn:hover i.icon {
            filter: drop-shadow(0 0 5px var(--neon-cyan));
            transform: scale(1.1);
        }

        .submenu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 0 0 6px 6px;
            margin-top: -2px;
            /* Pull up to connect */
            border-left: 2px solid rgba(6, 182, 212, 0.1);
        }

        /* Force open class for debugging if JS fails */
        .submenu.force-open {
            max-height: 500px !important;
        }

        .submenu a {
            display: block;
            padding: 10px 15px 10px 45px;
            color: #64748b;
            text-decoration: none;
            font-size: 0.9rem;
            transition: 0.2s;
            border-left: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .submenu a::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 30px;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(6, 182, 212, 0.3), transparent);
            transform: translateX(-100%) skewX(-15deg);
            pointer-events: none;
        }

        .submenu a:hover::before {
            animation: electric-scan 0.4s ease-out;
        }

        .submenu a:hover {
            color: #fff;
            border-left-color: var(--neon-cyan);
            background: linear-gradient(90deg, rgba(6, 182, 212, 0.15), transparent);
            padding-left: 50px;
            /* Slide effect */
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
        }

        /* NESTED SUBMENU STYLES */
        .submenu-btn {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            padding: 10px 15px 10px 45px;
            color: #64748b;
            background: transparent;
            border: none;
            font-family: inherit;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: 0.2s;
            border-left: 2px solid transparent;
            text-align: left;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
        }

        .submenu-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 30px;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(6, 182, 212, 0.3), transparent);
            transform: translateX(-100%) skewX(-15deg);
            pointer-events: none;
        }

        .submenu-btn:hover::before {
            animation: electric-scan 0.4s ease-out;
        }

        .submenu-btn:hover,
        .submenu-btn.active {
            color: #fff;
            border-left-color: var(--neon-cyan);
            background: linear-gradient(90deg, rgba(6, 182, 212, 0.15), transparent);
            padding-left: 50px;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
        }

        .submenu-btn i {
            font-size: 0.7rem;
            transition: transform 0.3s;
        }

        .submenu-btn.active i {
            transform: rotate(90deg);
        }

        .sub-submenu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out;
            background: rgba(0, 0, 0, 0.2);
        }

        .sub-submenu a {
            padding-left: 65px !important;
        }

        .sub-submenu a:hover {
            padding-left: 75px !important;
        }

        /* === MAIN CONTENT === */
        .main-content {
            flex-grow: 1;
            display: grid;
            grid-template-rows: auto 1fr;
            gap: 20px;
            padding: 20px;
            height: 100vh;
            overflow: hidden;
        }

        /* === HEADER WIDGETS === */
        .header-widgets {
            display: grid;
            grid-template-columns: 1.3fr 1fr 1fr 0.7fr;
            gap: 10px;
            height: 160px;
        }

        .cyber-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
        }

        .cyber-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--neon-cyan), transparent);
            opacity: 0.7;
        }

        .card-header {
            padding: 10px 15px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.8rem;
            color: var(--neon-cyan);
            text-transform: uppercase;
            letter-spacing: 1px;
            background: rgba(0, 0, 0, 0.3);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            justify-content: space-between;
        }

        /* WIDGET 1: MAP */
        .map-visual {
            flex-grow: 1;
            background-image: radial-gradient(#0ea5e9 1px, transparent 1px);
            background-size: 10px 10px;
            opacity: 0.5;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .world-map-svg {
            width: 80%;
            height: 80%;
            fill: none;
            stroke: var(--neon-cyan);
            stroke-width: 1;
            filter: drop-shadow(0 0 5px var(--neon-cyan));
        }

        /* WIDGET 2: SEARCH */
        .search-container {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 15px;
            background: linear-gradient(135deg, rgba(14, 165, 233, 0.08), transparent);
            text-align: center;
        }

        .search-main-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 1rem;
            color: var(--neon-cyan);
            margin-bottom: 8px;
            text-shadow: 0 0 10px rgba(6, 182, 212, 0.6);
            letter-spacing: 1px;
            animation: flicker-neon 3s infinite;
        }

        .search-sub-text {
            font-size: 0.8rem;
            color: #fff;
            opacity: 0.9;
            margin-bottom: 12px;
            font-weight: 600;
            animation: glow-pulse 2s infinite ease-in-out;
        }

        .search-hint-text {
            font-size: 0.65rem;
            color: #64748b;
            border-top: 1px solid rgba(6, 182, 212, 0.1);
            padding-top: 8px;
            width: 90%;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        @keyframes flicker-neon {

            0%,
            18%,
            22%,
            25%,
            53%,
            57%,
            100% {
                opacity: 1;
                text-shadow: 0 0 10px rgba(6, 182, 212, 0.6);
            }

            20%,
            24%,
            55% {
                opacity: 0.8;
                text-shadow: none;
            }
        }

        @keyframes glow-pulse {

            0%,
            100% {
                opacity: 0.7;
                transform: scale(0.98);
            }

            50% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .access-container {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 15px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), transparent);
            text-align: center;
        }

        .access-main-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 0.85rem;
            color: var(--neon-purple);
            margin-bottom: 8px;
            text-shadow: 0 0 10px rgba(139, 92, 246, 0.4);
            letter-spacing: 1px;
            line-height: 1.4;
        }

        .access-sub-text {
            font-size: 0.9rem;
            color: #fff;
            margin-bottom: 10px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            animation: scanner-flicker 4s infinite;
        }

        .access-hint-text {
            font-size: 0.6rem;
            color: #94a3b8;
            border-top: 1px solid rgba(139, 92, 246, 0.1);
            padding-top: 8px;
            width: 90%;
            text-transform: uppercase;
            font-family: 'Orbitron';
        }

        @keyframes scanner-flicker {

            0%,
            45%,
            55%,
            100% {
                opacity: 1;
                filter: brightness(1);
            }

            50% {
                opacity: 0.7;
                filter: brightness(1.5);
            }
        }

        .cyber-input-group {
            display: flex;
            width: 100%;
            gap: 10px;
            margin-bottom: 10px;
        }

        .cyber-input {
            flex-grow: 1;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--glass-border);
            color: #fff;
            padding: 10px 15px;
            border-radius: 6px;
            font-family: 'Rajdhani', sans-serif;
            outline: none;
            transition: 0.3s;
        }

        /* MINI PREMIUM CLOCK FOR SIDEBAR (V16.7) */
        .mini-clock-wrapper {
            margin-top: 15px;
            transform: scale(0.6);
            transform-origin: left top;
            width: 166%;
            /* 1 / 0.6 */
            margin-bottom: -40px;
            opacity: 0.95;
        }

        .clock-container {
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 8px 25px;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(14, 165, 233, 0.3);
            border-radius: 40px;
            font-family: 'Orbitron', sans-serif;
            color: #fff;
            min-width: 360px;
            height: 65px;
            box-shadow: 0 0 20px rgba(14, 165, 233, 0.1);
        }

        .clock-date-group {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            min-width: 150px;
            line-height: 1.1;
        }

        .clock-day {
            font-size: 0.65rem;
            color: var(--neon-cyan);
            letter-spacing: 2px;
        }

        .clock-date {
            font-size: 1.3rem;
            font-weight: 900;
            white-space: nowrap;
        }

        .clock-visual {
            position: relative;
            width: 55px;
            height: 55px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-shrink: 0;
        }

        .clock-circle {
            position: absolute;
            inset: 0;
            border: 2px solid rgba(14, 165, 233, 0.1);
            border-radius: 50%;
        }

        .clock-progress {
            position: absolute;
            inset: 0;
            border: 2px solid transparent;
            border-top: 2px solid var(--neon-cyan);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--neon-cyan);
            transition: transform 1s linear;
        }

        .clock-time-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 5;
        }

        .clock-ampm {
            font-size: 0.45rem;
            font-weight: 800;
            color: var(--neon-cyan);
        }

        .clock-time {
            font-size: 1.4rem;
            font-weight: 900;
            line-height: 1;
        }

        .cyber-input:focus {
            border-color: var(--neon-cyan);
            box-shadow: 0 0 10px rgba(6, 182, 212, 0.3);
        }

        .cyber-btn {
            background: rgba(14, 165, 233, 0.1);
            border: 1px solid var(--neon-cyan);
            color: var(--neon-cyan);
            padding: 0 20px;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.8rem;
            cursor: pointer;
            border-radius: 6px;
            transition: 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .cyber-btn:hover {
            background: var(--neon-cyan);
            color: #000;
            box-shadow: 0 0 15px var(--neon-cyan);
        }

        /* WAREHOUSE MAP TEXT VERSION Styles */
        .map-text-container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: radial-gradient(circle at center, rgba(6, 182, 212, 0.1), transparent);
            position: relative;
            overflow: hidden;
        }

        .neon-pulse-text {
            font-family: 'Orbitron', sans-serif;
            color: var(--neon-cyan);
            font-size: 0.95rem;
            font-weight: 900;
            text-align: center;
            letter-spacing: 1.5px;
            text-shadow: 0 0 10px rgba(6, 182, 212, 0.5);
            animation: text-flicker-neon 4s infinite alternate;
            padding: 15px;
            line-height: 1.4;
        }

        .scanning-bar-vertical {
            position: absolute;
            top: 0;
            left: 0;
            width: 2px;
            height: 100%;
            background: linear-gradient(to bottom, transparent, var(--neon-cyan), transparent);
            box-shadow: 0 0 15px var(--neon-cyan);
            animation: scan-vertical 5s linear infinite;
            opacity: 0.5;
        }

        @keyframes text-flicker-neon {

            0%,
            18%,
            22%,
            25%,
            53%,
            57%,
            100% {
                text-shadow: 0 0 2px #fff, 0 0 5px var(--neon-cyan), 0 0 10px var(--neon-cyan);
                opacity: 1;
            }

            20%,
            24%,
            55% {
                text-shadow: none;
                opacity: 0.6;
            }
        }

        @keyframes scan-vertical {
            0% {
                transform: translateX(-10px);
            }

            50% {
                transform: translateX(350px);
            }

            100% {
                transform: translateX(-10px);
            }
        }

        /* WIDGET 3: MU BANNER (IMAGE REPLACEMENT) */
        .mu-banner {
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
            position: relative;
            background: var(--bg-dark);
            /* Inherit border/shadow from .cyber-card */
        }

        .mu-img-full {
            width: 100%;
            height: 100%;
            object-fit: cover;
            mix-blend-mode: lighten;
            transform: scale(1.15);
            /* CROP SIDE GLOWS */
        }


        /* === MAIN VISUALIZATION AREA === */
        .vis-container {
            position: relative;
            background: #020617;
            /* SEAMLESS MATCHING BACKGROUND */
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* DELETED PLACEHOLDER */

        .vis-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            /* CHANGED TO COVER FOR SEAMLESS FIT */
            object-position: center;
            opacity: 1;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
            image-rendering: high-quality;
            /* NO SCALE/ZOOM */
        }

        /* HOVER EFFECT REMOVED */

        .vis-overlay {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 10;
        }

        /* LABEL CSS REMOVED AS REQUESTED */

        /* === 3D FLOATING ELEMENTS (DECORATION) === */
        .hud-corner {
            position: absolute;
            width: 20px;
            height: 20px;
            border: 2px solid var(--neon-cyan);
            z-index: 20;
        }

        .tl {
            top: 10px;
            left: 10px;
            border-right: 0;
            border-bottom: 0;
        }

        .tr {
            top: 10px;
            right: 10px;
            border-left: 0;
            border-bottom: 0;
        }

        .bl {
            bottom: 10px;
            left: 10px;
            border-right: 0;
            border-top: 0;
        }

        .br {
            bottom: 10px;
            right: 10px;
            border-left: 0;
            border-top: 0;
        }
    </style>
</head>

<body>

    <!-- SIDEBAR -->
    <nav class="sidebar">
        <div class="brand">
            <div class="brand-glow"></div>
            <h1>SMART<br>WAREHOUSE <span>V2.0</span></h1>
            <div class="brand-sub">WAREHOUSE MANAGEMENT SYSTEM</div>

            <!-- MINI PREMIUM CLOCK (V16.7) -->
            <div class="mini-clock-wrapper">
                <div class="clock-container" id="clock-widget">
                    <div class="clock-date-group">
                        <div class="clock-day" id="widget-day">DAY</div>
                        <div class="clock-date" id="widget-date">DATE</div>
                    </div>
                    <div class="clock-visual">
                        <div class="clock-circle"></div>
                        <div class="clock-progress" id="widget-sec-progress"></div>
                        <div class="clock-time-group">
                            <div class="clock-ampm" id="widget-ampm">AM</div>
                            <div class="clock-time" id="widget-time">00:00</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="nav-menu">
            <!-- 1. HOME -->
            <div class="nav-item">
                <a href="homepage-v1.html" class="nav-btn active">
                    <span><i class="fas fa-home icon"></i> HOME</span>
                </a>
            </div>

            <!-- 1.5. INPUT DOWNTIME (APP) -->
            <div class="nav-item">
                <a href="entry-downtime.html" target="_blank" class="nav-btn"
                    style="border:1px solid rgba(6,182,212,0.3); background:rgba(6,182,212,0.05);">
                    <span style="color:var(--neon-cyan);"><i class="fas fa-stopwatch icon"></i> INPUT DOWNTIME
                        (APP)</span>
                    <i class="fas fa-external-link-alt" style="font-size:0.7em; color:var(--neon-cyan);"></i>
                </a>
            </div>

            <!-- 2. RM STORAGE -->
            <div class="nav-item">
                <button class="nav-btn" onclick="toggleMenu('rm-menu')">
                    <span><i class="fas fa-warehouse icon"></i> RM STORAGE</span>
                    <i class="fas fa-chevron-down" style="font-size:0.7em;"></i>
                </button>
                <div class="submenu" id="rm-menu">
                    <a href="rm-dashboard.html">RM-STOCK</a>
                    <a href="rm-aging.html">RM-AGING</a>

                    <button class="submenu-btn" onclick="toggleMenu('rm-simulasi-menu')">
                        <span>RM-SIMULASI</span>
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <div class="sub-submenu" id="rm-simulasi-menu">
                        <a href="rm-simulation.html">PREDIKTIF</a>
                        <a href="rm-history.html">HISTORIS</a>
                    </div>

                    <button class="submenu-btn" onclick="toggleMenu('rm-staffel-menu')">
                        <span>RM-STAFFEL</span>
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <div class="sub-submenu" id="rm-staffel-menu">
                        <a href="rm-staffel-masterdata.html">MASTER DATA</a>
                        <a href="rm-staffel-analys.html">ANALYS</a>
                    </div>


                    <button class="submenu-btn" onclick="toggleMenu('rm-langsir-menu')">
                        <span>RM-LANGSIR</span>
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <div class="sub-submenu" id="rm-langsir-menu">
                        <a href="rm-langsiran.html">CONTROLLING</a>
                        <a href="rm-transport-tracker.html">GPS TRACKER</a>
                    </div>

                    <button class="submenu-btn" onclick="toggleMenu('bin-sweeping-menu')">
                        <span>BIN SWEEPING</span>
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <div class="sub-submenu" id="bin-sweeping-menu">
                        <a href="bin-sweeping-status.html">STATUS OPERASIONAL</a>
                        <a href="bin-sweeping-analys.html">ANALYSTIC</a>
                    </div>

                    <button class="submenu-btn" onclick="toggleMenu('rm-ka-menu')">
                        <span>RM-KADAR AIR</span>
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <div class="sub-submenu" id="rm-ka-menu">
                        <a href="rm-ka-masterdata.html">MASTER DATA</a>
                        <a href="rm-ka-analys.html">ANALYSTIC</a>
                    </div>

                    <a href="rm-palletcyclelog.html">RM-PALLETCYCLELOG</a>
                    <a href="rm-sealmap.html">RM-SEALMAP</a>
                </div>
            </div>

            <!-- 3. CPO -->
            <div class="nav-item">
                <button class="nav-btn" onclick="toggleMenu('cpo-menu')">
                    <span><i class="fas fa-tint icon"></i> CPO</span>
                    <i class="fas fa-chevron-down" style="font-size:0.7em;"></i>
                </button>
                <div class="submenu" id="cpo-menu">
                    <a href="cpo-dashboard.html">CPO-STOCK</a>
                    <a href="cpo-simulation.html">CPO-SIMULASI</a>
                </div>
            </div>

            <!-- 4. BKK -->
            <div class="nav-item">
                <button class="nav-btn" onclick="toggleMenu('bkk-menu')">
                    <span><i class="fas fa-cubes icon"></i> BKK</span>
                    <i class="fas fa-chevron-down" style="font-size:0.7em;"></i>
                </button>
                <div class="submenu" id="bkk-menu">
                    <a href="bkk-dashboard.html">BKK-STOCK</a>
                    <a href="bkk-simulasi.html">BKK-SIMULASI</a>
                </div>
            </div>

            <!-- 5. HUB SYSTEM -->
            <div class="nav-item">
                <button class="nav-btn" onclick="toggleMenu('hub-menu')">
                    <span><i class="fas fa-network-wired icon"></i> HUB SYSTEM</span>
                    <i class="fas fa-chevron-down" style="font-size:0.7em;"></i>
                </button>
                <div class="submenu" id="hub-menu">
                    <a href="material-audit-history.html">MATERIAL AUDIT HISTORY</a>
                    <a href="about-structure.html">STRUKTUR ORGANISASI</a>

                    <button class="submenu-btn" onclick="toggleMenu('smart-admin-menu')">
                        <span>SMART ADMIN</span>
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <div class="sub-submenu" id="smart-admin-menu">
                        <a href="bap4a.html">BAP4A</a>
                        <a href="notulensi.html">NOTULENSI MEETING</a>
                    </div>

                    <button class="submenu-btn" onclick="toggleMenu('op-biaya-menu')">
                        <span>OPERASIONAL & BIAYA</span>
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    <div class="sub-submenu" id="op-biaya-menu">
                        <a href="op-ekspedisi-masterdata.html">EKSPEDISI</a>
                        <a href="op-sewa-unit-masterdata.html">SEWA UNIT & ALAT</a>
                        <a href="op-kontrol-bbm-masterdata.html">KONTROL BBM (SOLAR)</a>
                        <a href="op-analisa-loader-masterdata.html">ANALISA LOADER</a>
                    </div>
                </div>
            </div>

            <!-- 6. HUMAN RESOURCE -->
            <div class="nav-item">
                <button class="nav-btn" onclick="toggleMenu('hr-menu')">
                    <span><i class="fas fa-users-cog icon"></i> HUMAN RESOURCE</span>
                    <i class="fas fa-chevron-down" style="font-size:0.7em;"></i>
                </button>
                <div class="submenu" id="hr-menu">
                    <a href="hr-absen.html">KONTROL ABSEN</a>
                    <a href="hr-cuti-dashboard.html">KONTROL CUTI [LIVE]</a>
                    <a href="hr-lembur-dashboard.html">KONTROL LEMBURAN [LIVE]</a>
                    <a href="hr-payslip.html">ESTIMATOR PAY SLIP</a>
                </div>
            </div>

            <!-- 7. UNLOADING ANALYTICS -->
            <div class="nav-item">
                <button class="nav-btn" onclick="toggleMenu('unloading-menu')">
                    <span><i class="fas fa-chart-bar icon"></i> UNLOADING ANALYTICS</span>
                    <i class="fas fa-chevron-down" style="font-size:0.7em;"></i>
                </button>
                <div class="submenu" id="unloading-menu">
                    <a href="bkk-downtime.html">BKK-DOWNTIME</a>
                    <a href="rm-downtime.html">RM-DOWNTIME</a>
                    <a href="cpo-downtime.html">CPO-DOWNTIME</a>
                </div>
            </div>

            <!-- 8. OUTSTANDING -->
            <div class="nav-item">
                <button class="nav-btn" onclick="toggleMenu('outstanding-menu')">
                    <span><i class="fas fa-stream icon"></i> OUTSTANDING</span>
                    <i class="fas fa-chevron-down" style="font-size:0.7em;"></i>
                </button>
                <div class="submenu" id="outstanding-menu">
                    <a href="outstanding-rm.html">OUTSTANDING RM & CPO</a>
                    <a href="outstanding-bkk.html">OUTSTANDING BKK</a>
                </div>
            </div>

            <!-- 9. KNOWLEDGE CENTER -->
            <div class="nav-item">
                <button class="nav-btn" onclick="toggleMenu('knowledge-menu')">
                    <span><i class="fas fa-graduation-cap icon"></i> KNOWLEDGE CENTER</span>
                    <i class="fas fa-chevron-down" style="font-size:0.7em;"></i>
                </button>
                <div class="submenu" id="knowledge-menu">
                    <a href="knowledge-center.html">PUSAT PENGETAHUAN</a>
                    <a href="hub-sop-wi.html">SOP & WI CENTER</a>
                </div>
            </div>

            <!-- 10. ADMIN A1 (AI ASSISTANT) -->
            <div class="nav-item">
                <a href="smart-ai-assistant.html" class="nav-btn"
                    style="border-top: 1px solid rgba(14, 165, 233, 0.2); margin-top: 10px; background: rgba(14, 165, 233, 0.05);">
                    <span>
                        <i class="fas fa-robot icon" style="color: var(--neon-cyan);"></i>
                        ADMIN A1 <span
                            style="font-size: 0.6rem; opacity: 0.7; display: block; margin-left: 30px; margin-top: -5px;">LIVE
                            CHAT</span>
                    </span>
                    <span
                        style="width: 8px; height: 8px; background: #22c55e; border-radius: 50%; box-shadow: 0 0 10px #22c55e;"></span>
                </a>
            </div>

        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <main class="main-content">

        <!-- ROW 1: WIDGETS -->
        <div class="header-widgets">

            <!-- BOX 1: GLOBAL MAP -->
            <div class="cyber-card" style="cursor:pointer;" onclick="window.location.href='about-page.html'">
                <div class="card-header">
                    <span>WAREHOUSE MAP</span>
                    <i class="fas fa-globe-asia"></i>
                </div>
                <div class="map-visual" style="padding:0; overflow:hidden;">
                    <!-- WAREHOUSE MAP OVERRIDE TO TEXT -->
                    <div class="map-text-container">
                        <div class="neon-pulse-text">REAL-TIME LOGISTICS & ZONING MONITOR</div>
                        <div class="scanning-bar-vertical"></div>
                    </div>
                    <div
                        style="position:absolute; bottom:5px; right:10px; font-size:0.55rem; color:var(--neon-cyan); opacity:0.8; z-index:5; background:rgba(0,0,0,0.5); padding:2px 5px; border-radius:3px;">
                        ABOUT SYSTEM</div>
                </div>
            </div>

            <!-- BOX 2: SEARCH DATA -->
            <div class="cyber-card" style="cursor:pointer;" onclick="window.location.href='search-data.html'">
                <div class="card-header">
                    <span>GLOBAL SEARCH</span>
                    <i class="fas fa-search-dollar"></i>
                </div>
                <div class="search-container">
                    <div class="search-main-text">MAU CARI DATA APA?</div>
                    <div class="search-sub-text">BISA KLIK DISINI</div>
                    <div class="search-hint-text">
                        ATAU LIHAT NAVIGASI DI SEBELAH KIRI
                        <i class="fas fa-chevron-left" style="font-size: 0.5rem; margin-left: 3px;"></i>
                    </div>
                </div>
            </div>

            <!-- BOX 3: ACCESS PORTAL -->
            <div class="cyber-card" style="cursor:pointer;" onclick="window.location.href='login.html'">
                <div class="card-header">
                    <span>SECURITY ACCESS</span>
                    <i class="fas fa-user-shield"></i>
                </div>
                <div class="access-container">
                    <div class="access-main-text">SILAHKAN LOGIN PAK BOS UNTUK MEMBUKA MENU</div>
                    <div class="access-sub-text" style="color: var(--neon-purple);">HUB SYSTEM & HR</div>
                    <div class="access-hint-text">
                        <i class="fas fa-lock" style="font-size: 0.5rem; margin-right: 3px;"></i>
                        AUTHORIZED PERSONNEL ONLY
                    </div>
                </div>
            </div>

            <!-- BOX 4: BANNER KING EMYU IMAGE -->
            <div class="cyber-card mu-banner">
                <img src="assets/mu_banner_v1.jpg" alt="GGMU KING EMYU" class="mu-img-full">
            </div>

        </div>

        <!-- ROW 2: VISUALIZATION -->
        <div class="vis-container" id="visContainer">
            <!-- LABEL REMOVED AS REQUESTED -->

            <!-- HUD DECORATIONS -->
            <div class="hud-corner tl"></div>
            <div class="hud-corner tr"></div>
            <div class="hud-corner bl"></div>
            <div class="hud-corner br"></div>


            <!-- Image STATIC -->
            <div id="zoomWrapper"
                style="width:100%; height:100%; display:flex; align-items:center; justify-content:center;">
                <img src="Gemini_Generated_Image_o57so7o57so7o57s.png" alt="Warehouse Visualization" class="vis-image"
                    id="targetImg" style="display:block !important;">
            </div>
        </div>

    </main>

    <script>
        console.log("SMART WAREHOUSE V2.0 - INITIALIZING");

        function handleSearch(e) {
            if (e.key === 'Enter') {
                window.location.href = 'search-data.html?q=' + e.target.value;
            }
        }

        function toggleMenu(id) {
            console.log("Toggling menu:", id);
            let menu = document.getElementById(id);
            if (!menu) return;

            let btn = menu.previousElementSibling;
            let isSubSub = menu.classList.contains('sub-submenu');

            // 1. Close siblings at the same level
            let container = menu.parentElement;
            Array.from(container.children).forEach(el => {
                if (el.classList.contains('submenu') || el.classList.contains('sub-submenu')) {
                    if (el.id !== id) {
                        el.style.maxHeight = null;
                        if (el.previousElementSibling) el.previousElementSibling.classList.remove('active');
                    }
                }
            });

            // 2. Toggle current
            if (menu.style.maxHeight) {
                menu.style.maxHeight = null;
                btn.classList.remove('active');
            } else {
                // If it's a sub-menu, we allow it to grow large
                menu.style.maxHeight = (isSubSub ? "500px" : "2000px");
                btn.classList.add('active');
            }

            // 3. Update parent height if needed (Recalculate parent's maxHeight to fit growing child)
            if (isSubSub) {
                let parentSubmenu = container.closest('.submenu');
                if (parentSubmenu && !menu.style.maxHeight) {
                    // If closing a child, we don't necessarily need to reduce parent immediately, 
                    // but it's good practice. For simplicity, just set parent to auto/large.
                    parentSubmenu.style.maxHeight = "2000px";
                }
            }
        }

        window.onload = function () {
            console.log("Window loaded. Navigation ready.");
            startClock();
        };

        function startClock() {
            const update = () => {
                const now = new Date();
                const days = ['SUNDAY', 'MONDAY', 'TUESDAY', 'WEDNESDAY', 'THURSDAY', 'FRIDAY', 'SATURDAY'];
                const months = ['JANUARY', 'FEBRUARY', 'MARCH', 'APRIL', 'MAY', 'JUNE', 'JULY', 'AUGUST', 'SEPTEMBER', 'OCTOBER', 'NOVEMBER', 'DECEMBER'];

                const dayEl = document.getElementById('widget-day');
                const dateEl = document.getElementById('widget-date');
                if (dayEl) dayEl.innerText = days[now.getDay()];
                if (dateEl) dateEl.innerText = `${months[now.getMonth()]} ${now.getDate()}`;

                let h = now.getHours();
                const m = String(now.getMinutes()).padStart(2, '0');
                const ampm = h >= 12 ? 'PM' : 'AM';
                h = h % 12;
                h = h ? h : 12;
                const hStr = h;

                const timeEl = document.getElementById('widget-time');
                const ampmEl = document.getElementById('widget-ampm');
                if (timeEl) timeEl.innerText = `${hStr}:${m}`;
                if (ampmEl) ampmEl.innerText = ampm;

                const sec = now.getSeconds();
                const progressEl = document.getElementById('widget-sec-progress');
                if (progressEl) {
                    const deg = (sec / 60) * 360;
                    progressEl.style.transform = `rotate(${deg - 45}deg)`;
                }
            };
            update();
            setInterval(update, 1000);
        }
    </script>
</body>

</html>